<div class="flex-container">
  <span>
    <md-button-toggle-group #group="mdButtonToggleGroup" (change)="setView($event.value)">
      <md-button-toggle value="month" [checked]="true">Month</md-button-toggle>
      <md-button-toggle value="week">Week</md-button-toggle>
      <md-button-toggle value="day">Day</md-button-toggle>
    </md-button-toggle-group>
  </span>

  <span class="fill"></span>

  <span><h2>{{displayDate}}</h2></span>

  <span class="fill"></span>

  <span>
    <md-button-toggle-group (change)="setView(group.value)">
      <md-button-toggle mwlCalendarPreviousView [view]="group.value" [(viewDate)]="viewDate">Previous</md-button-toggle>
      <md-button-toggle mwlCalendarToday [(viewDate)]="viewDate">Today</md-button-toggle>
      <md-button-toggle mwlCalendarNextView [view]="group.value" [(viewDate)]="viewDate">Next</md-button-toggle>
    </md-button-toggle-group>
 </span>

</div>

<ng-template #loading>
  <div class="text-center">
    <i class="fa fa-spin fa-spinner fa-5x"></i>
    <br>
    Loading events...
  </div>
</ng-template>

<div *ngIf="calendarService.events$ | async; else loading; let events">
  <div [ngSwitch]="group.value">
    <mwl-calendar-month-view *ngSwitchCase="'month'" [viewDate]="viewDate" [events]="events"></mwl-calendar-month-view>
    <mwl-calendar-week-view *ngSwitchCase="'week'" [viewDate]="viewDate" [events]="events"></mwl-calendar-week-view>
    <mwl-calendar-day-view *ngSwitchCase="'day'" [viewDate]="viewDate" [events]="events"></mwl-calendar-day-view>
  </div>
  {{events | json}}
</div>

<!--<md-select placeholder="Select a Calendar" [(ngModel)]="selectedCalendar">
  <md-option *ngFor="let calendar of calendars" [value]="calendar">{{calendar?.summary}}</md-option>
</md-select>-->